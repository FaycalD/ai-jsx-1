---
displayed_sidebar: tutorialSidebar
---

# Sidekicks Document Q&A

One of the common use cases for a Fixie Sidekick is to answer
questions about a collection of documents, such as web pages
or PDF files. By providing a Large Language Model with information
drawn from a set of documents, the Sidekick can do an excellent job
answering questions and having a conversation with the user about
the contents of those documents. This approach is called
**Retrieval-Augmented Generation**, or RAG, and is a popular
way of using LLMs.

Fixie Sidekicks makes it easy to do this, as the Fixie service
can handle all of the details of crawling documents, building
embedding, managing a vector database, and all of the other machinery
involved in developing a RAG-based application. Here, we're going to
show you how to do this in Fixie.

## Concepts

The fundamental concept behind RAG in Fixie is the idea of a **Corpus**, which
represents a collection of documents that can be queried. You create a Corpus from
one or more **Sources**, where a Source defines a set of rules for where to gather
documents from, and how to process those documents when adding them to the Corpus.
For example, a Web Source would define a set of URLs and crawling rules for
gathering a set of web pages, while a PDF Source might have a set of PDF files
that have been uploaded directly to Fixie.

Fixie deals with the process of fetching the document contents, processing them, and
storing the data in a way that can later be used by the LLM running in your Sidekick
to answer questions. Once a Corpus has been **built**, that is, populated with
processed documents, you can **query** the Corpus to get back the most relevant
information from the documents in the Corpus to that query. This information can then
be fed back into the LLM to generate a final response to the query.



## How RAG works in Fixie

While you don't need to fully understand the details of how Fixie implements RAG,
it is helpful to understand the process at a high level.

In Fixie, you create a Corpus and add one or more Sources to it.
Once a Source has been added to a Corpus, Fixie takes care of
fetching the documents from that Source (which might involve crawling
web pages and following links).  Documents are then processed in
various ways -- for example, HTML contents are converted to Markdown,
and raw text is extracted from PDF files.

Next, the processed documents are then converted into a set of **Chunks**. Each Chunk
represents a small piece of the document contents -- usually a few kilobytes in size
-- that the Large Language Model can process independently of the rest of the document.
Fixie uses an LLM to generate a set of **vector embeddings** for each Chunk.
Think of an embedding as a numerical representation of the contents of the Chunk.
Embeddings are generated by feeding the Chunk through a Large Language Model and
extracting the vector representation of the hidden state of the model. The contents
of each Chunk, along with its embedding, are stored in a **vector database**, which
makes it possible to, later, fetch the set of Chunks that are most relevant to a user
query.

Say we have stored a bunch of Chunks in the vector database representing pieces of
documents about, say, foxes. One Chunk might contain:

> There are 37 species of foxes, but only 12 belong to the genus ‚Äúvulpes‚Äù or ‚Äútrue foxes‚Äù.
> The best known of them are: Red Fox, Arctic Fox, Kit Fox, Fennec Fox, and the Gray Fox. 

and another Chunk might contain:

> The distribution areas for the fox are quite remarkable, and that is why they have a legacy
> out there like no other animal has. They are found throughout areas of North America.

If the user were to query the Corpus with "What are the various species of foxes?", Fixie
first generates the vector embedding for the query itself. It then uses this query vector to
find the Chunks in the vector database that are semantically "closest" to the user's
query. In the case of this particular query, the first Chunk above would be ranked
higher than the second Chunk. The Corpus query result is a list of Chunks, ranked in order
from most to least relevant to the provided query.

However, just getting back the Chunks, by themselves, is not very useful. Usually, you
will want to pass the Chunks, along with the user query, back through the Large Language
Model to provide a final answer to the user's question. The LLM can then generate a response
using both its internal knowledge as well as that drawn from the data provided in the
Chunks.

Don't worry! All of the above is handled automatically by the Fixie platform and the
Sidekicks SDK, as we'll explain below.









and generating a set of **Chunks** from those Documents. Think of a Chunk as 

A Corpus is identified
by a unique ID, using the UUIDv4 format. We have a sample Corpus, which anyone
can query, that contains a collection of web pages about foxes. The Corpus ID is:
  
  ```
  44094d5a-f817-4c2e-a2a4-8f8a0c936d0f
  ```







One of the best use cases for AI.JSX is to build a **Sidekick**, an AI-powered chatbot that is embedded
in a web page or app and is able to answer questions, call APIs,
and more. AI.JSX makes it easy to build Sidekicks with a rich UI, access to
documents, and the ability to fetch live data and take action via API calls.

Sidekicks can be built and deployed in minutes. This quickstart will walk you through
the entire process of building and deploying your own Sidekick.

This tutorial relies on both AI.JSX as well as the [Fixie](https://fixie.ai) cloud
platform, which provides a suite of APIs and tools for hosting and managing
Sidekicks. It is possible to build and deploy Sidekicks without Fixie, but
using Fixie makes the process much easier.

:::info What You Will Do
At the end of this quickstart you will:

1. **Be Up & Running** ‚Üí Prereq's installed, accounts set-up, demo Sidekick up and running.
1. **Be Ready to Customize** ‚Üí Take the demo code and start customizing it for a custom Sidekick.
1. **Feel Amazing** ‚Üí You will feel so good you might try attempting a jumping, flying sidekick.\*

\*_Consult your medical and/or physical fitness professional first. Do not attempt in tight pants._
:::

## Step 0: Prerequisites

:::warning Prerequisites
Before you get started, you will need to have a free Fixie developer account and have some tools installed
on your machine. You will also need a text editor. If you don't have a preferred text editor, we
recommend [Visual Studio Code](https://code.visualstudio.com/).
:::

:::tip On Windows? Use WSL.
If you are using a Windows machine, we highly recommend using the Windows Subsystem for Linux (WSL) for
development with Node.js. This is optional. If you want to use WSL,
follow [this guide](https://learn.microsoft.com/en-us/windows/dev-environment/javascript/nodejs-on-wsl) which
will get you set-up with WSL, Node, and VSCode (for your text editor).
:::

### a) Get a Fixie developer account

We will use [Fixie](https://fixie.ai) for hosting and managing our Sidekick.
Sign up for a free Fixie developer account:

1. Go to the [Fixie Console page](https://console.fixie.ai).
1. Create an account using either a Google or GitHub account.
1. Navigate to your [profile page](https://console.fixie.ai/profile).

<img src={FixieProfileAPIKey} alt="Fixie profile page where you can get your API key." width="600"/>

The Fixie Console is where you will test and manage your Sidekick once it's built.
For now, the main thing you need is your Fixie API Key, which is found on your
[profile page](https://console.fixie.ai/profile).

### b) Install Node.js

Sidekicks are based on AI.JSX, which in turn relies on Node.js, a JavaScript
runtime. Install the current [LTS version of Node.js](https://nodejs.org/en).

### c) Install the Fixie CLI

The Fixie command-line interface is provided by the [fixie](https://www.npmjs.com/package/fixie) package in npm. You can run it directly using `npx`:

```terminal
npx fixie@latest
```

### d) Authenticate the Fixie CLI

To configure the Fixie CLI to login to the Fixie service, just run:

```terminal
npx fixie auth
```

This will open a browser tab to authenticate to the Fixie Console. The Fixie
CLI should now be configured to work with your Fixie account.

## Step 1: Clone Sidekick Template Repo

Now that we have the prerequisites out of the way, let's download and deploy
the Fixie Sidekick template.

Clone the `fixie-sidekick-template` repository from GitHub:

```terminal
git clone https://github.com/fixie-ai/fixie-sidekick-template.git
```

If this command fails you may need to [install Git](https://github.com/fixie-ai/fixie-sidekick-template.git).

You can also download the code directly from [the source](https://github.com/fixie-ai/fixie-sidekick-template). While you're there, give us a star! ü¶ä

## Step 2: Build the Sidekick Code

The Sidekick is implemented in TypeScript with AI.JSX, so you need to
build it before it can be deployed. To do this, in the `fixie-sidekick-template`
directory, run:

```terminal
npm install
npm run build
```

The resulting JavaScript code should now be in the `dist/` subdirectory.

## Step 3: Deploy the Sidekick

In the `fixie-sidekick-template` directory, simply run:

```terminal
npx fixie deploy
```

This will deploy the Sidekick to the Fixie cloud service. It takes a couple of
minutes, but once the process is done, you will see a link to the Sidekick's
page on the Fixie Console. For example:

```terminal
‚ùØ npx fixie deploy
ü¶ä Deploying agent sarah/fixie-sidekick-template...
ü¶ä Creating new agent sarah/fixie-sidekick-template...
‚†ã  üöÄ Deploying... (hang tight, this takes a minute or two!)
‚úî Agent fixie-sidekick-template is running at: https://console.fixie.ai/agents/sarah/fixie-sidekick-template
```

<img src={Step3Profit} alt="" width="300"/>

## Step 4: Try it Out!

Surf on over to the Sidekick URL shown by the `fixie deploy` command. You should
now be able to chat directly with your Sidekick!

## Local Development and Testing

The `fixie deploy` step can take a couple of minutes to build and deploy your
Sidekick to the cloud, which is a real bummer when you're testing things locally.
Fortunately, you can run your Sidekick locally, without needing to deploy it to
the cloud.

Instead of `fixie deploy`, you run:

```terminal
npx fixie serve
```

This starts up the Sidekick running on your local machine, and sets
up a tunnel allowing the Fixie service to connect into your local
Sidekick. When you quit the `fixie serve` command (for example, by
hitting Ctrl+C), the Sidekick reverts back to the most recently
deployed version (from `fixie deploy`). Note that you need to `fixie
deploy` your Sidekick in order for it to run in the cloud.

As we make changes to our sidekick, we can simply stop serving our sidekick with `Ctrl+C` and then
serve up our new changes with the `serve` command as we did above.

## Sending Messages to your Sidekick

The Fixie Console page gives you a simple web interface to interact with your
Sidekick, but you're not limited to this interface. You can chat with your
Sidekick directly via a REST API, or embed the Sidekick chat UI in your own
web app.

### Method 1: Via the REST API

First up, let's ask our Sidekick a question through the Fixie REST API, using
`curl`. From your terminal:

```bash
curl 'https://console.fixie.ai/api/v1/agents/<your user name>/<your sidekick name>/conversations' \
  -d '{ "generationParams": { "userTimeZoneOffset": 0 }, "message": {"text": "What can you do?" }}' \
  -H 'Authorization: Bearer <your Fixie API key>' \
  -H 'Content-Type: application/json'
```

For example:

```bash
curl 'https://console.fixie.ai/api/v1/agents/sarah/fixie-sidekick-template/conversations' \
  -d '{ "generationParams": { "userTimeZoneOffset": 0 }, "message": {"text": "What can you do?" }}' \
  -H 'Authorization: Bearer FmEEMtjcHLfNGPrLhRQwQfwG9Li...' \
  -H 'Content-Type: application/json'
```

### Method 2: Via the Fixie Console

- In your browser, navigate to the [Fixie dashboard](https://console.fixie.ai/).
- Click on your Sidekick.
- Enter a question for the Sidekick. e.g. "What can you do?"

You can also access your agent directly at:

```terminal
https://console.fixie.ai/agents/<your user name>/<your sidekick name>
```

<img src={FoxieSidekick} alt="Foxie, the Fixie mascot, doing a sidekick!" width="400"/>

## Additional Resources and Next Steps

You've got a template Sidekick deployed to Fixie. So what's next? Here are some suggestions:

### Create your own Document Collection

This will enable you to provide your Sidekick with specialized knowledge about your company,
product, or organization. Create your own collection [here](https://console.fixie.ai/documents).
